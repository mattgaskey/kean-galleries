const setUpFancybox = () => {
  if (!window.jQuery) return;

  const initModal = () => {
    jQuery(document).ready(() => {
      jQuery('[data-fancybox="media"]').fancybox({
        baseClass: "fancybox-custom-layout",
        infobar: false,
        touch: {
          vertical: false
        },
        buttons: ["close"],
        animationEffect: "zoom-in-out",
        preventCaptionOverlap: false,
        idleTime: false,
        gutter: 0,
        btnTpl: {
          arrowLeft:
            '<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left text-yellow hover:text-gray-light" title="{{PREV}}">' +
            '<div><svg width="46px" height="47px" viewBox="0 0 46 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Previous Image</title><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1329.000000, -559.000000)" fill="#FFCC3F" fill-rule="nonzero"><g transform="translate(0.000000, -1729.000000)"><g transform="translate(74.994377, 1807.000000)"><path d="M1277,481.481914 C1283.14463,481.481914 1288.92126,483.87404 1293.26463,488.217637 C1297.608,492.561234 1300,498.335748 1300,504.480703 C1300,510.625658 1297.61042,516.402594 1293.26463,520.746191 C1288.91884,525.089788 1283.14463,527.481914 1277,527.481914 C1270.85537,527.481914 1265.07874,525.092209 1260.73537,520.746191 C1256.392,516.400173 1254,510.623237 1254,504.480703 C1254,498.338169 1256.38958,492.561234 1260.73537,488.217637 C1265.08116,483.87404 1270.85537,481.481914 1277,481.481914 Z M1277,483.903094 C1265.65253,483.903094 1256.42105,493.135054 1256.42105,504.483124 C1256.42105,515.831195 1265.65253,525.063155 1277,525.063155 C1288.34747,525.063155 1297.57895,515.831195 1297.57895,504.483124 C1297.57895,493.135054 1288.34747,483.903094 1277,483.903094 Z M1279.96322,493.839444 C1280.44685,493.362737 1281.23305,493.362737 1281.71668,493.839444 L1281.71668,493.839444 L1291.63728,503.618036 C1292.12091,504.092298 1292.12091,504.867252 1291.63728,505.343958 L1291.63728,505.343958 L1281.71668,515.122551 C1281.47611,515.362126 1281.15617,515.481914 1280.84119,515.481914 C1280.52621,515.481914 1280.20875,515.364571 1279.9657,515.124995 C1279.48207,514.648289 1279.48207,513.873335 1279.9657,513.396629 L1279.9657,513.396629 L1287.76825,505.703321 L1262.24007,505.703321 C1261.55555,505.703321 1261,505.15572 1261,504.480997 C1261,503.806274 1261.55555,503.258673 1262.24007,503.258673 L1262.24007,503.258673 L1287.76825,503.258673 L1279.96322,495.56781 C1279.47959,495.091104 1279.47959,494.31615 1279.96322,493.839444 Z" id="Combined-Shape"></path></g></g></g></g></svg></div>' +
            "</button>",
          arrowRight:
            '<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right text-yellow hover:text-gray-light" title="{{NEXT}}">' +
            '<div><svg width="46px" height="47px" viewBox="0 0 46 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Next Image</title><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1329.000000, -559.000000)" fill="#FFCC3F" fill-rule="nonzero"><g transform="translate(0.000000, -1729.000000)"><g transform="translate(74.994377, 1807.000000)"><path d="M1277,481.481914 C1283.14463,481.481914 1288.92126,483.87404 1293.26463,488.217637 C1297.608,492.561234 1300,498.335748 1300,504.480703 C1300,510.625658 1297.61042,516.402594 1293.26463,520.746191 C1288.91884,525.089788 1283.14463,527.481914 1277,527.481914 C1270.85537,527.481914 1265.07874,525.092209 1260.73537,520.746191 C1256.392,516.400173 1254,510.623237 1254,504.480703 C1254,498.338169 1256.38958,492.561234 1260.73537,488.217637 C1265.08116,483.87404 1270.85537,481.481914 1277,481.481914 Z M1277,483.903094 C1265.65253,483.903094 1256.42105,493.135054 1256.42105,504.483124 C1256.42105,515.831195 1265.65253,525.063155 1277,525.063155 C1288.34747,525.063155 1297.57895,515.831195 1297.57895,504.483124 C1297.57895,493.135054 1288.34747,483.903094 1277,483.903094 Z M1279.96322,493.839444 C1280.44685,493.362737 1281.23305,493.362737 1281.71668,493.839444 L1281.71668,493.839444 L1291.63728,503.618036 C1292.12091,504.092298 1292.12091,504.867252 1291.63728,505.343958 L1291.63728,505.343958 L1281.71668,515.122551 C1281.47611,515.362126 1281.15617,515.481914 1280.84119,515.481914 C1280.52621,515.481914 1280.20875,515.364571 1279.9657,515.124995 C1279.48207,514.648289 1279.48207,513.873335 1279.9657,513.396629 L1279.9657,513.396629 L1287.76825,505.703321 L1262.24007,505.703321 C1261.55555,505.703321 1261,505.15572 1261,504.480997 C1261,503.806274 1261.55555,503.258673 1262.24007,503.258673 L1262.24007,503.258673 L1287.76825,503.258673 L1279.96322,495.56781 C1279.47959,495.091104 1279.47959,494.31615 1279.96322,493.839444 Z" id="Combined-Shape"></path></g></g></g></g></svg></div>' +
            "</button>"
          }
      });
    });
  };

  if (jQuery.fancybox) {
    initModal();
  } else {
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js';
    script.onload = initModal;
    document.head.appendChild(script);
  }

};

if (top === self) setUpFancybox();

export default setUpFancybox;